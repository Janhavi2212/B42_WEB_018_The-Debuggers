<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Unit 1: Numbers from 1 to 9</title>
    <style>
      /* Add the styles for your layout */
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        background-color: #f8f9fa;
        display: flex;
        flex-direction: column;
        height: 100%;
      }

      .container {
        display: flex;
        flex-wrap: wrap;
        width: 100%;
        height: 100%;
        padding: 20px;
        box-sizing: border-box;
      }

      .sidebar {
        width: 280px;
        padding: 20px;
        background-color: #ffffff;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        margin-right: 20px;
        height: 100%;
        box-sizing: border-box;
      }

      .class-box {
        background-color: #f1f1f1;
        padding: 15px;
        margin-bottom: 20px;
        border-radius: 5px;
      }

      .class-box h2 {
        font-size: 20px;
        margin: 0;
      }

      .class-box p {
        color: #666;
        font-size: 14px;
      }

      .units-list .unit-item {
        margin-bottom: 10px;
        font-size: 16px;
      }

      .unit-title {
        font-weight: bold;
      }

      .course-challenge {
        margin-top: 20px;
        padding: 15px;
        background-color: #f1f1f1;
        border-radius: 5px;
      }

      .course-challenge a {
        text-decoration: none;
        background-color: #007bff;
        color: white;
        padding: 10px;
        border-radius: 5px;
      }

      .course-challenge a:hover {
        background-color: #0056b3;
      }

      .main-content {
        flex: 1;
        padding: 20px;
        background-color: white;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        margin-left: 20px;
        height: 100%;
        overflow-y: auto;
        box-sizing: border-box;
      }

      .header {
        font-size: 24px;
        font-weight: bold;
      }

      .sub-header {
        color: #666;
      }

      .badge {
        display: inline-block;
        padding: 5px 10px;
        border-radius: 5px;
        font-size: 12px;
        position: relative;
      }

      .mastered {
        background: purple;
        color: white;
      }
      .proficient {
        background: #9999cc;
        color: white;
      }
      .familiar {
        background: orange;
        color: white;
      }
      .attempted {
        background: brown;
        color: white;
      }
      .not-started {
        background: gray;
        color: white;
      }

      .badge:hover::after {
        content: attr(data-tooltip);
        position: absolute;
        top: -50px;
        left: 50%;
        transform: translateX(-50%);
        background-color: #333;
        color: white;
        padding: 15px 20px;
        border-radius: 8px;
        font-size: 16px;
        opacity: 0;
        visibility: hidden;
        z-index: 10;
        transition: opacity 0.3s, visibility 0.3s;
        white-space: nowrap;
        max-width: 300px;
        text-align: center;
      }

      .badge:hover::after {
        opacity: 1;
        visibility: visible;
      }

      .section {
        margin-top: 20px;
      }

      .button {
        display: inline-block;
        padding: 10px 15px;
        margin-top: 10px;
        background: blue;
        color: white;
        text-decoration: none;
        border-radius: 5px;
      }

      .button.secondary {
        background: #ddd;
        color: black;
      }

      .card {
        border: 1px solid #ccc;
        padding: 15px;
        margin-top: 10px;
        border-radius: 5px;
        background: #f1f1f1;
      }

      .video-container {
        margin-top: 20px;
      }

      iframe {
        width: 100%;
        height: 400px;
        border: none;
        border-radius: 5px;
      }

      .completed {
        background-color: #28a745;
        color: white;
      }

      /* Responsive Design for Full-Screen */
      @media (max-width: 768px) {
        .container {
          flex-direction: column;
        }

        .sidebar {
          width: 100%;
          margin-bottom: 20px;
        }

        .main-content {
          margin-left: 0;
        }

        .header {
          font-size: 22px;
        }

        .sub-header {
          font-size: 14px;
        }

        .badge {
          font-size: 10px;
        }

        .course-challenge a {
          font-size: 14px;
          padding: 8px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Sidebar Section -->
      <aside class="sidebar">
        <div class="class-box">
          <h2>Class 1</h2>
          <p>4 UNITS • 44 SKILLS</p>
        </div>
        <hr />
        <div class="units-list">
          <div class="unit-item" data-unit-id="unit1">
            <span class="unit-title">UNIT 1</span><br />Numbers from 1 to 9
          </div>
          <hr />
          <div class="unit-item" data-unit-id="unit2">
            <span class="unit-title">UNIT 2</span><br />Numbers from 10 to 20
          </div>
          <hr />
          <div class="unit-item" data-unit-id="unit3">
            <span class="unit-title">UNIT 3</span><br />Numbers from 1 to 100
          </div>
          <hr />
          <div class="unit-item" data-unit-id="unit4">
            <span class="unit-title">UNIT 4</span><br />Geometry and Measurement
          </div>
        </div>
        <div class="course-challenge">
          <strong>COURSE CHALLENGE</strong>
          <p>Test your knowledge of the skills in this course.</p>
          <a href="#" id="startChallenge">Start Course Challenge</a>
        </div>
      </aside>

      <!-- Main Content Section -->
      <div class="main-content">
        <div class="header">Unit 1: Numbers from 1 to 9</div>
        <div class="sub-header">1,600 possible mastery points</div>
        <div class="badges">
          <span
            class="badge mastered"
            data-tooltip="You have mastered this skill!"
            >Mastered</span
          >
          <span
            class="badge proficient"
            data-tooltip="You are proficient in this skill."
            >Proficient</span
          >
          <span
            class="badge familiar"
            data-tooltip="You are familiar with this skill."
            >Familiar</span
          >
          <span
            class="badge attempted"
            data-tooltip="You have attempted this skill."
            >Attempted</span
          >
          <span
            class="badge not-started"
            data-tooltip="You have not started this skill."
            >Not started</span
          >
        </div>

        <div class="section">
          <h3>Counting small numbers</h3>
          <p><strong>Learn</strong></p>
          <ul>
            <li>▶ Counting with small numbers</li>
            <li>▶ Counting in order</li>
          </ul>
          <div class="video-container">
            <iframe
              id="countingVideo"
              src="https://www.youtube.com/watch?v=LCp7QVI_vSk"
              title="Counting Small Numbers Video"
            ></iframe>
            <button class="button" id="startVideo">Play Video</button>
          </div>
          <p><strong>Practice</strong></p>
          <div class="card">
            <h4>Question 1: What comes after 5?</h4>
            <form>
              <input type="radio" name="q1" value="4" /> 4<br />
              <input type="radio" name="q1" value="6" /> 6<br />
              <input type="radio" name="q1" value="7" /> 7<br />
              <button
                type="button"
                class="button"
                onclick="checkAnswer('q1', '6')"
              >
                Submit Answer
              </button>
              <p class="feedback" id="feedback-q1"></p>
            </form>
          </div>

          <div class="card">
            <h4>Question 2: What comes before 8?</h4>
            <form>
              <input type="radio" name="q2" value="7" /> 7<br />
              <input type="radio" name="q2" value="6" /> 6<br />
              <input type="radio" name="q2" value="9" /> 9<br />
              <button
                type="button"
                class="button"
                onclick="checkAnswer('q2', '7')"
              >
                Submit Answer
              </button>
              <p class="feedback" id="feedback-q2"></p>
            </form>
          </div>

          <!-- Additional Questions -->
          <div class="card">
            <h4>Question 3: What comes after 2?</h4>
            <form>
              <input type="radio" name="q3" value="1" /> 1<br />
              <input type="radio" name="q3" value="3" /> 3<br />
              <input type="radio" name="q3" value="4" /> 4<br />
              <button
                type="button"
                class="button"
                onclick="checkAnswer('q3', '3')"
              >
                Submit Answer
              </button>
              <p class="feedback" id="feedback-q3"></p>
            </form>
          </div>

          <div class="card">
            <h4>Question 4: What comes before 10?</h4>
            <form>
              <input type="radio" name="q4" value="9" /> 9<br />
              <input type="radio" name="q4" value="8" /> 8<br />
              <input type="radio" name="q4" value="7" /> 7<br />
              <button
                type="button"
                class="button"
                onclick="checkAnswer('q4', '9')"
              >
                Submit Answer
              </button>
              <p class="feedback" id="feedback-q4"></p>
            </form>
          </div>

          <div class="card">
            <h4>Question 5: What comes after 7?</h4>
            <form>
              <input type="radio" name="q5" value="6" /> 6<br />
              <input type="radio" name="q5" value="8" /> 8<br />
              <input type="radio" name="q5" value="9" /> 9<br />
              <button
                type="button"
                class="button"
                onclick="checkAnswer('q5', '8')"
              >
                Submit Answer
              </button>
              <p class="feedback" id="feedback-q5"></p>
            </form>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Fetching questions from Firebase and dynamically adding them to the practice section
      document.addEventListener("DOMContentLoaded", function () {
        const practiceSection = document.querySelector(
          ".main-content .section"
        );

        // Reference to the Firebase database
        const questionsRef = database.ref("questions"); // Replace 'questions' with the actual path in your Firebase database

        // Fetch the data from Firebase
        questionsRef.once("value", function (snapshot) {
          const questions = snapshot.val();

          // Loop through the questions and create the HTML for each
          if (questions) {
            Object.keys(questions).forEach(function (key) {
              const question = questions[key];

              // Create a card for each question
              const card = document.createElement("div");
              card.classList.add("card");

              const questionTitle = document.createElement("h4");
              questionTitle.textContent = question.questionText;
              card.appendChild(questionTitle);

              // Create form for the choices
              const form = document.createElement("form");
              question.options.forEach(function (option) {
                const radioInput = document.createElement("input");
                radioInput.type = "radio";
                radioInput.name = key; // unique name for each question
                radioInput.value = option;
                const label = document.createElement("label");
                label.textContent = option;

                form.appendChild(radioInput);
                form.appendChild(label);
                form.appendChild(document.createElement("br"));
              });

              const submitButton = document.createElement("button");
              submitButton.type = "button";
              submitButton.classList.add("button");
              submitButton.textContent = "Submit Answer";
              submitButton.onclick = function () {
                checkAnswer(key, question.correctAnswer);
              };

              const feedback = document.createElement("p");
              feedback.classList.add("feedback");
              feedback.id = "feedback-" + key;

              form.appendChild(submitButton);
              form.appendChild(feedback);

              card.appendChild(form);

              practiceSection.appendChild(card);
            });
          } else {
            practiceSection.innerHTML = "<p>No questions found.</p>";
          }
        });
      });

      // Function to check if the answer is correct and provide feedback
      function checkAnswer(questionId, correctAnswer) {
        const selectedOption = document.querySelector(
          `input[name="${questionId}"]:checked`
        );
        const feedbackElement = document.getElementById(
          `feedback-${questionId}`
        );

        if (selectedOption) {
          if (selectedOption.value === correctAnswer) {
            feedbackElement.innerHTML = "Correct!";
            feedbackElement.style.color = "green";
          } else {
            feedbackElement.innerHTML = "Incorrect. Try again!";
            feedbackElement.style.color = "red";
          }
        } else {
          feedbackElement.innerHTML = "Please select an answer.";
          feedbackElement.style.color = "orange";
        }
      }
    </script>

  </body>
</html>
